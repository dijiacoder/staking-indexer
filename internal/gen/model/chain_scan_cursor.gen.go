// Code generated by gorm.io/gen-db. DO NOT EDIT.
// Code generated by gorm.io/gen-db. DO NOT EDIT.
// Code generated by gorm.io/gen-db. DO NOT EDIT.

package model

import (
	"time"
)

const TableNameChainScanCursor = "chain_scan_cursor"

// ChainScanCursor 链上合约扫描游标（支持断点续扫与Reorg）
type ChainScanCursor struct {
	ID                 int64      `gorm:"column:id;type:bigint;primaryKey;autoIncrement:true;comment:主键" json:"id"`                                                                                        // 主键
	ChainID            int64      `gorm:"column:chain_id;type:bigint;not null;uniqueIndex:uk_chain_contract,priority:1;index:idx_chain_scan,priority:1;comment:链ID，例如 1=Ethereum Mainnet" json:"chain_id"` // 链ID，例如 1=Ethereum Mainnet
	ContractAddress    string     `gorm:"column:contract_address;type:varchar(42);not null;uniqueIndex:uk_chain_contract,priority:2;comment:合约地址" json:"contract_address"`                                 // 合约地址
	ContractName       string     `gorm:"column:contract_name;type:varchar(64);not null;comment:合约名称" json:"contract_name"`                                                                                // 合约名称
	LastScannedBlock   int64      `gorm:"column:last_scanned_block;type:bigint;not null;index:idx_chain_scan,priority:2;comment:最近已扫描区块（可能未确认）" json:"last_scanned_block"`                                 // 最近已扫描区块（可能未确认）
	LastConfirmedBlock int64      `gorm:"column:last_confirmed_block;type:bigint;not null;comment:最近已确认区块高度" json:"last_confirmed_block"`                                                                  // 最近已确认区块高度
	ConfirmationBlocks *int32     `gorm:"column:confirmation_blocks;type:int;not null;default:12;comment:确认区块数" json:"confirmation_blocks"`                                                                // 确认区块数
	ScanStatus         *int32     `gorm:"column:scan_status;type:tinyint;not null;default:1;comment:扫描状态：1-正常 2-回滚中 3-暂停" json:"scan_status"`                                                              // 扫描状态：1-正常 2-回滚中 3-暂停
	CreatedAt          *time.Time `gorm:"column:created_at;type:timestamp;not null;default:CURRENT_TIMESTAMP;comment:创建时间" json:"created_at"`                                                              // 创建时间
	UpdatedAt          *time.Time `gorm:"column:updated_at;type:timestamp;not null;default:CURRENT_TIMESTAMP;comment:更新时间" json:"updated_at"`                                                              // 更新时间
}

// TableName ChainScanCursor's table name
func (*ChainScanCursor) TableName() string {
	return TableNameChainScanCursor
}
